<!-- app/views/reports/sales.html.erb -->
<h1>Sales Trends</h1>

<div class="chart-container">
  <%= line_chart @sales_orders.group_by_day(:order_date).sum(:total_price), height: "400px", library: { title: { text: "Sales Over Time", align: "center" }, xAxis: { title: { text: "Date" } }, yAxis: { title: { text: "Total Sales" } } } %>
</div>

<div class="filter-form mt-4">
  <%= form_with url: reports_sales_path, method: :get, local: true do |f| %>
    <div class="d-flex align-items-center">
      <div class="me-3">
        <%= f.label :start_date, "Start Date", class: "form-label" %>
        <%= f.date_field :start_date, value: params[:start_date], class: "form-control" %>
      </div>

      <div class="me-3">
        <%= f.label :end_date, "End Date", class: "form-label" %>
        <%= f.date_field :end_date, value: params[:end_date], class: "form-control" %>
      </div>

      <div>
        <%= f.submit "Filter", class: "btn btn-primary mt-4" %>
      </div>
    </div>
  <% end %>
</div>

<style>
  .chart-container {
    margin-bottom: 20px;
  }
  .filter-form {
    background-color: #f8f9fa;
    padding: 15px;
    border-radius: 5px;
  }
  .form-label {
    font-weight: bold;
  }
</style>
